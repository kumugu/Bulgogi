### 비밀번호 변경 훅 (useChangePassword)

`useChangePassword` 훅을 만들고, 비밀번호 변경 서비스를 호출하여 결과를 처리하는 방식으로 진행하면 좋습니다.

#### 1. 비밀번호 변경 서비스 호출

서비스 레벨에서 비밀번호 변경 로직을 처리한 후, 이 서비스를 훅에서 호출하여 상태를 관리합니다.

### 1. 비밀번호 변경 서비스 (`accountService.ts`)

비밀번호 변경을 처리하는 서비스를 작성합니다.

```ts
// accountService.ts
import { changePassword } from "@/api/user/accountApi"; // API 호출 함수
import { ChangePasswordRequest } from "@/types/user/accountTypes"; // 타입

const changePasswordService = async (passwordData: ChangePasswordRequest): Promise<string> => {
  try {
    await changePassword(passwordData);
    return "비밀번호가 성공적으로 변경되었습니다.";
  } catch (error) {
    if (error instanceof AxiosError) {
      if (error.response?.status === 400) {
        return "입력값이 올바르지 않습니다. 다시 확인해주세요.";
      } else if (error.response?.status === 401) {
        return "현재 비밀번호가 올바르지 않습니다.";
      }
      return error.response?.data?.message || "비밀번호 변경에 실패했습니다. 다시 시도해주세요.";
    }
    return "알 수 없는 오류가 발생했습니다. 다시 시도해주세요.";
  }
};

export { changePasswordService };
```

### 2. `useChangePassword` 훅

비밀번호 변경에 필요한 상태 관리와 서비스 호출을 처리하는 훅을 만듭니다.

```ts
import { useState } from "react";
import { useNavigate } from "react-router-dom";
import { changePasswordService } from "@/services/accountService"; // 서비스 함수 import
import { ChangePasswordRequest } from "@/types/user/accountTypes"; // 타입 import

export const useChangePassword = () => {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [message, setMessage] = useState<string | null>(null);

  const changePassword = async (data: ChangePasswordRequest) => {
    setLoading(true);
    setError(null);
    setMessage(null);

    try {
      const successMessage = await changePasswordService(data);
      setMessage(successMessage);
      setTimeout(() => navigate("/profile"), 1000); // 비밀번호 변경 후 프로필 페이지로 이동
    } catch (error: any) {
      setError(error.message || "비밀번호 변경 중 오류가 발생했습니다. 다시 시도해주세요.");
    } finally {
      setLoading(false);
    }
  };

  return { changePassword, loading, error, message };
};
```

### 3. 비밀번호 변경 폼

비밀번호 변경 폼에서 `useChangePassword` 훅을 사용하여 비밀번호 변경을 처리할 수 있습니다.

```ts
ximport React, { useState } from "react";
import { useChangePassword } from "@/features/user/account/useChangePassword"; // 훅 import

const ChangePasswordForm = () => {
  const { changePassword, loading, error, message } = useChangePassword();
  const [currentPassword, setCurrentPassword] = useState("");
  const [newPassword, setNewPassword] = useState("");
  const [confirmPassword, setConfirmPassword] = useState("");

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();

    if (newPassword !== confirmPassword) {
      alert("새 비밀번호와 비밀번호 확인이 일치하지 않습니다.");
      return;
    }

    const passwordData = { currentPassword, newPassword };
    changePassword(passwordData);
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-6">
      <div>
        <label htmlFor="currentPassword" className="sr-only">현재 비밀번호</label>
        <input
          id="currentPassword"
          name="currentPassword"
          type="password"
          required
          value={currentPassword}
          onChange={(e) => setCurrentPassword(e.target.value)}
          className="block w-full rounded-lg border border-neutral-200 px-4 py-3"
          placeholder="현재 비밀번호"
        />
      </div>
      <div>
        <label htmlFor="newPassword" className="sr-only">새 비밀번호</label>
        <input
          id="newPassword"
          name="newPassword"
          type="password"
          required
          value={newPassword}
          onChange={(e) => setNewPassword(e.target.value)}
          className="block w-full rounded-lg border border-neutral-200 px-4 py-3"
          placeholder="새 비밀번호"
        />
      </div>
      <div>
        <label htmlFor="confirmPassword" className="sr-only">비밀번호 확인</label>
        <input
          id="confirmPassword"
          name="confirmPassword"
          type="password"
          required
          value={confirmPassword}
          onChange={(e) => setConfirmPassword(e.target.value)}
          className="block w-full rounded-lg border border-neutral-200 px-4 py-3"
          placeholder="비밀번호 확인"
        />
      </div>
      {error && <p className="text-red-600">{error}</p>}
      {message && <p className="text-green-600">{message}</p>}
      <button
        type="submit"
        disabled={loading}
        className="w-full py-3 bg-blue-500 text-white rounded-lg disabled:opacity-50"
      >
        {loading ? "비밀번호 변경 중..." : "비밀번호 변경"}
      </button>
    </form>
  );
};

export default ChangePasswordForm;
```

### 설명

1. **`changePasswordService`**: 비밀번호 변경 API를 호출하고, 발생하는 오류를 처리하여 사용자에게 적절한 메시지를 반환합니다. 이 서비스는 훅에서 사용됩니다.
2. **`useChangePassword`**: `changePasswordService`를 호출하고, 비밀번호 변경 상태와 메시지를 관리합니다. 폼에서 `changePassword` 함수를 호출하여 비밀번호를 변경합니다.
3. **비밀번호 변경 폼**: 사용자로부터 현재 비밀번호, 새 비밀번호, 새 비밀번호 확인을 받아서 `useChangePassword` 훅을 통해 비밀번호를 변경합니다. 비밀번호 변경 후 성공 메시지나 오류 메시지를 표시합니다.
